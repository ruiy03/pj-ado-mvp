# Issue分析とソリューション提案の手順

## 前提条件
- リポジトリ：pj-ado-mvp
- 対象Issue：Issue#$ARGUMENTS
- 分析対象：GitHubのIssue内容とリポジトリのコードベース

## 実行手順

### 1. Issue内容の確認と分類
**Issue情報の取得**：
- GitHub上で該当Issue（#$ARGUMENTS）を開いて内容を確認
- Issueのタイトル、説明、ラベル、コメントをすべて読む
- 添付されたスクリーンショットやログがあれば確認

**Issue分類の判定**：
- **Bug（不具合）**：現在の動作が期待と異なる、エラーが発生している
    - 症状：エラーメッセージ、予期しない動作、パフォーマンス問題
    - 確認項目：再現手順、環境情報、期待する動作
- **Task（タスク）**：新機能実装、改善、ドキュメント更新など
    - 内容：機能要件、受け入れ条件、実装範囲
    - 確認項目：背景、目的、完了条件

### 2. 問題・要件の詳細理解
**Bug の場合**：
```
- 現象：[何が起きているか]
- 再現条件：[どの操作で発生するか]
- 期待値：[本来どうあるべきか]
- 影響範囲：[どの機能・ユーザーに影響するか]
- 緊急度：[業務への影響度]
```

**Task の場合**：
```
- 目的：[なぜ必要なのか]
- 要件：[何を実装するのか]
- 制約：[技術的・業務的制限]
- 受け入れ条件：[完了とみなす基準]
- 優先度：[他タスクとの重要度比較]
```

### 3. 関連コードの特定と調査
**コード調査の手順**：

1. **キーワード検索**
   ```bash
   # エラーメッセージや機能名で検索
   grep -r "[エラーメッセージ/機能名]" ./src
   find . -name "*.js" -o -name "*.ts" -o -name "*.jsx" -o -name "*.tsx" | xargs grep -l "[キーワード]"
   ```

2. **ファイル構造の確認**
    - Issue で言及されている画面・機能に対応するファイル
    - 関連するコンポーネント、API、データベース処理
    - 設定ファイル、環境変数

3. **依存関係の調査**
    - 該当機能が依存している外部ライブラリ
    - 内部モジュール間の依存関係
    - データフローの確認

**調査結果の整理**：
```
- 関連ファイル：[パス/ファイル名のリスト]
- 該当コード：[問題のあるコード部分]
- 依存関係：[関連する他のモジュール]
- 影響範囲：[変更時に影響を受ける箇所]
```

### 4. 根本原因の分析（Bug の場合）
**原因調査の観点**：
- **ロジックエラー**：条件分岐、計算処理、状態管理の問題
- **データ問題**：不正なデータ、型変換、バリデーション不備
- **環境要因**：設定ミス、依存関係、外部サービス連携
- **設計問題**：アーキテクチャ、パフォーマンス、セキュリティ

### 5. ソリューション提案
**複数案の提示基準**：
- **実装難易度**：簡単 → 複雑
- **影響範囲**：局所的 → 全体的

**提案形式**：
```
## ソリューション案

### 案1: [簡易対応]（推奨度：★★★）
- **概要**：[解決方法の概要]
- **実装内容**：
  - [具体的な修正内容]
  - [変更対象ファイル]
- **メリット**：[利点]
- **デメリット**：[欠点・リスク]
- **影響範囲**：[変更による影響]

### 案2: [根本対応]（推奨度：★★）
- **概要**：[解決方法の概要]
- **実装内容**：
  - [具体的な修正内容]
  - [変更対象ファイル]
- **メリット**：[利点]
- **デメリット**：[欠点・リスク]
- **影響範囲**：[変更による影響]

### 案3: [抜本改革]（推奨度：★）
- **概要**：[解決方法の概要]
- **実装内容**：
  - [具体的な修正内容]
  - [変更対象ファイル]
- **メリット**：[利点]
- **デメリット**：[欠点・リスク]
- **影響範囲**：[変更による影響]
```

### 6. 推奨案の選定理由
**選定基準**：
- MVP開発フェーズに適した実装範囲
- リスクと効果のバランス
- チームのスキルレベルとリソース
- 他の開発タスクとの優先度

**推奨案の理由**：
```
## 推奨：[案番号] - [案名]

**選定理由**：
- [MVP要件への適合性]
- [実装リスクの低さ]
- [効果の確実性]
- [将来的な拡張性]

**実装順序**：
1. [最初に行う作業]
2. [次に行う作業]
3. [最後に行う作業]

**注意点・リスク**：
- [実装時の注意事項]
- [潜在的なリスク]
- [回避方法]
```

## 確認事項
- [ ] Issue の内容を正しく理解している
- [ ] Bug/Task の分類が適切である
- [ ] 関連コードを網羅的に調査している
- [ ] 根本原因を特定している（Bug の場合）
- [ ] 実装難易度別に複数案を提示している
- [ ] MVP要件に適した推奨案を選定している
- [ ] 実装手順と注意点を明確にしている
- [ ] 影響範囲とリスクを適切に評価している
